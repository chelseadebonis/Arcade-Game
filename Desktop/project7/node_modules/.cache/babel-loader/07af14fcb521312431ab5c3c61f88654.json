{"ast":null,"code":"import _classCallCheck from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chelseadebonis/Desktop/project7/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { load_google_maps } from './utils.js';\nimport { load_places } from './utils.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.listItemClick = function (venue) {\n      var marker = _this.markers.filter(function (m) {\n        return m.id === venue.id;\n      })[0];\n\n      console.log(marker);\n    };\n\n    _this.state = {\n      query: ''\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var googleMapsPromise = load_google_maps();\n      var placesPromise = load_places();\n      Promise.all([googleMapsPromise, placesPromise]).then(function (values) {\n        var google = values[0];\n        _this2.venues = values[1].response.venues;\n        _this2.google = values;\n        _this2.markers = [];\n        _this2.map = new google.maps.Map(document.getElementById('map'), {\n          center: {\n            lat: 40.440624,\n            lng: -79.995888\n          },\n          zoom: 10\n        });\n        _this2.infoWindow = new google.maps.InfoWindow();\n\n        _this2.venues.forEach(function (venue) {\n          var marker = new google.maps.Marker({\n            animation: window.google.maps.Animation.DROP,\n            position: {\n              lat: venue.location.lat,\n              lng: venue.location.lng\n            },\n            map: _this2.map,\n            venue: venue,\n            id: venue.id,\n            name: venue.name\n          }); //animate markers when clicked\n\n          marker.addListener('click', toggleBounce);\n\n          function toggleBounce() {\n            if (marker.getAnimation() !== null) {\n              marker.setAnimation(null);\n            } else {\n              marker.setAnimation(google.maps.Animation.BOUNCE);\n            } //stop animation after 500\n\n\n            setTimeout(function () {\n              marker.setAnimation(null);\n            }, 500);\n          }\n\n          google.maps.event.addListener(marker, 'click', function () {\n            _this2.infoWindow.setContent(marker.name);\n\n            _this2.map.setCenter(marker.position);\n\n            _this2.infowindow.open(_this2.map.marker);\n          });\n\n          _this2.markers.push(marker);\n        });\n\n        _this2.setState({\n          filteredVenues: _this2.venues\n        });\n      });\n    }\n  }, {\n    key: \"filterVenues\",\n    value: function filterVenues(query) {\n      //loop through markers and check if query matches input\n      var venueFilter = this.venues.filter(function (venue) {\n        return venue.name.toLowerCase().includes(query.toLowerCase());\n      }); //toLowerCase so user search case doesn't affect query\n\n      this.markers.forEach(function (marker) {\n        marker.name.toLowerCase().includes(query.toLowerCase()) === true ? marker.setVisible(true) : marker.setVisible(false);\n      });\n      this.setState({\n        filteredVenues: venueFilter,\n        query: query\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"main\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"sidebar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"search\",\n        value: this.state.query,\n        onChange: function onChange(e) {\n          _this3.filterVenues(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), this.state.filteredVenues && this.state.filteredVenues.length > 0 && this.state.filteredVenues.map(function (venue, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"venue-item\",\n          onClick: function onClick() {\n            _this3.listItemClick(venue);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, venue.name);\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/chelseadebonis/Desktop/project7/src/App.js"],"names":["React","Component","load_google_maps","load_places","App","props","listItemClick","venue","marker","markers","filter","m","id","console","log","state","query","googleMapsPromise","placesPromise","Promise","all","then","values","google","venues","response","map","maps","Map","document","getElementById","center","lat","lng","zoom","infoWindow","InfoWindow","forEach","Marker","animation","window","Animation","DROP","position","location","name","addListener","toggleBounce","getAnimation","setAnimation","BOUNCE","setTimeout","event","setContent","setCenter","infowindow","open","push","setState","filteredVenues","venueFilter","toLowerCase","includes","setVisible","e","filterVenues","target","value","length","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { load_google_maps } from './utils.js';\nimport { load_places } from './utils.js';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: ''\n    }\n  }\n\n  componentDidMount() {\n    let googleMapsPromise = load_google_maps();\n    let placesPromise = load_places();\n\n    Promise.all([\n      googleMapsPromise,\n      placesPromise\n    ])\n    .then(values => {\n      let google = values[0];\n      this.venues = values[1].response.venues;\n\n      this.google = values\n      this.markers = [];\n      this.map = new google.maps.Map(document.getElementById('map'), {\n         center: {lat: 40.440624, lng: -79.995888},\n         zoom: 10\n       });\n      this.infoWindow = new google.maps.InfoWindow();\n\n      this.venues.forEach(venue => {\n        let marker = new google.maps.Marker({\n           animation: window.google.maps.Animation.DROP,\n           position: {lat: venue.location.lat , lng: venue.location.lng},\n           map: this.map,\n           venue: venue,\n           id: venue.id,\n           name: venue.name\n         });\n         //animate markers when clicked\n         marker.addListener('click', toggleBounce);\n\n         function toggleBounce() {\n           if (marker.getAnimation() !== null) {\n             marker.setAnimation(null);\n           } else {\n             marker.setAnimation(google.maps.Animation.BOUNCE);\n           }\n           //stop animation after 500\n           setTimeout(() => { marker.setAnimation(null) }, 500);\n         }\n\n         google.maps.event.addListener(marker, 'click', () => {\n           this.infoWindow.setContent(marker.name);\n           this.map.setCenter(marker.position);\n           this.infowindow.open(this.map.marker);\n         });\n\n         this.markers.push(marker);\n      });\n\n      this.setState({ filteredVenues: this.venues });\n    });\n  }\n\nlistItemClick = (venue) => {\n  let marker  = this.markers.filter(m => m.id === venue.id)[0];\n  console.log(marker);\n}\n\n\n  filterVenues(query) {\n    //loop through markers and check if query matches input\n    let venueFilter = this.venues.filter(venue => venue.name.toLowerCase().includes(query.toLowerCase()));\n\n\n    //toLowerCase so user search case doesn't affect query\n    this.markers.forEach(marker => {\n      marker.name.toLowerCase().includes(query.toLowerCase()) === true ?\n      marker.setVisible(true) :\n      marker.setVisible(false);\n    });\n\n    this.setState({ filteredVenues: venueFilter, query });\n  }\n\n  render() {\n    return (\n    <main>\n      <div id=\"map\">\n\n      </div>\n      <div id=\"sidebar\">\n        <input placeholder=\"search\" value={this.state.query} onChange={(e) => { this.filterVenues(e.target.value) }}/>\n      <br/>\n      {\n        this.state.filteredVenues && this.state.filteredVenues.length > 0 &&\n        this.state.filteredVenues.map((venue, index) => (\n          <div key={index} className=\"venue-item\" onClick={() => { this.listItemClick(venue) }}>\n          {venue.name}\n          </div>\n        ))\n      }\n\n      </div>\n    </main>\n  );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}