{"ast":null,"code":"import _classCallCheck from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chelseadebonis/Desktop/project7/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chelseadebonis/Desktop/project7/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { load_google_maps } from './utils.js';\nimport { load_places } from './utils.js';\nimport Sidescreen from './Components/Sidescreen.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.listItemClick = function (venue) {\n      var marker = _this.markers.filter(function (m) {\n        return m.id === venue.id;\n      })[0];\n\n      _this.infoWindow.setContent(marker.name);\n\n      _this.map.setCenter(marker.position);\n\n      _this.infoWindow.open(_this.map, marker);\n\n      _this.map.setZoom(12);\n\n      if (marker.getAnimation() !== null) {\n        marker.setAnimation(null);\n      } else {\n        marker.setAnimation(window.google.maps.Animation.BOUNCE);\n      } //stop animation after 500\n\n\n      setTimeout(function () {\n        marker.setAnimation(null);\n      }, 500);\n    };\n\n    _this.filterVenues = function (query) {\n      var vfilter = _this.venues.filter(function (venue) {\n        return venue.name.toLowerCase().includes(query.toLowerCase());\n      });\n\n      _this.markers.forEach(function (marker) {\n        marker.name.toLowerCase().includes(query.toLowerCase()) === true ? marker.setVisible(true) : marker.setVisible(false);\n      });\n\n      _this.setState({\n        filteredVenues: vfilter,\n        query: query\n      });\n    };\n\n    _this.styles = {\n      hide: {\n        display: 'none'\n      },\n      header: {\n        marginTop: '0px'\n      }\n    };\n\n    _this.openSidebar = function () {\n      _this.setState({\n        open: !_this.state.open\n      });\n    };\n\n    _this.state = {\n      query: ''\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var googleMapsPromise = load_google_maps();\n      var placesPromise = load_places();\n      Promise.all([googleMapsPromise, placesPromise]).then(function (values) {\n        var google = values[0];\n        _this2.venues = values[1].response.venues;\n        _this2.google = google;\n        _this2.markers = []; //initial settings for the google map\n\n        _this2.map = new google.maps.Map(document.getElementById('map'), {\n          center: {\n            lat: 40.440624,\n            lng: -79.995888\n          },\n          zoom: 10\n        });\n        _this2.infoWindow = new google.maps.InfoWindow();\n\n        _this2.venues.forEach(function (venue) {\n          var marker = new google.maps.Marker({\n            animation: window.google.maps.Animation.DROP,\n            position: {\n              lat: venue.location.lat,\n              lng: venue.location.lng\n            },\n            map: _this2.map,\n            venue: venue,\n            id: venue.id,\n            name: venue.name,\n            contact: venue.contact\n          }); //animate markers when clicked\n\n          marker.addListener('click', function () {\n            if (marker.getAnimation() !== null) {\n              marker.setAnimation(null);\n            } else {\n              marker.setAnimation(google.maps.Animation.BOUNCE);\n            } //stop animation after 500\n\n\n            setTimeout(function () {\n              marker.setAnimation(null);\n            }, 500);\n          }); //info window popup when marker is clicked\n\n          google.maps.event.addListener(marker, 'click', function () {\n            _this2.infoWindow.setContent(marker.name);\n\n            _this2.infoWindow.setContent(marker.contact);\n\n            _this2.map.setCenter(marker.position);\n\n            _this2.infoWindow.open(_this2.map, marker);\n\n            _this2.map.setZoom(15);\n          });\n\n          _this2.markers.push(marker);\n        });\n\n        _this2.setState({\n          filteredVenues: _this2.venues\n        });\n      }).catch(function () {\n        alert('Cannot load Venues at this time.');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"burgerIcon\",\n        onClick: this.openSidebar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"map\",\n        role: \"application\",\n        \"aria-label\": \"map\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(Sidescreen, {\n        query: this.state.query,\n        listItemClick: this.listItemClick,\n        filterVenues: this.filterVenues,\n        filteredVenues: this.state.filteredVenues,\n        open: this.state.open,\n        openSidebar: this.openSidebar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/chelseadebonis/Desktop/project7/src/App.js"],"names":["React","Component","load_google_maps","load_places","Sidescreen","App","props","listItemClick","venue","marker","markers","filter","m","id","infoWindow","setContent","name","map","setCenter","position","open","setZoom","getAnimation","setAnimation","window","google","maps","Animation","BOUNCE","setTimeout","filterVenues","query","vfilter","venues","toLowerCase","includes","forEach","setVisible","setState","filteredVenues","styles","hide","display","header","marginTop","openSidebar","state","googleMapsPromise","placesPromise","Promise","all","then","values","response","Map","document","getElementById","center","lat","lng","zoom","InfoWindow","Marker","animation","DROP","location","contact","addListener","event","push","catch","alert"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,SAASC,gBAAT,QAAiC,YAAjC;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,OAAOC,UAAP,MAAuB,4BAAvB;;IAEMC,G;;;;;AAIJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6EAAMA,KAAN;;AADiB,UAmErBC,aAnEqB,GAmEL,UAACC,KAAD,EAAW;AACzB,UAAIC,MAAM,GAAI,MAAKC,OAAL,CAAaC,MAAb,CAAoB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,EAAF,KAASL,KAAK,CAACK,EAAnB;AAAA,OAArB,EAA4C,CAA5C,CAAd;;AACA,YAAKC,UAAL,CAAgBC,UAAhB,CAA2BN,MAAM,CAACO,IAAlC;;AACA,YAAKC,GAAL,CAASC,SAAT,CAAmBT,MAAM,CAACU,QAA1B;;AACA,YAAKL,UAAL,CAAgBM,IAAhB,CAAqB,MAAKH,GAA1B,EAA+BR,MAA/B;;AACA,YAAKQ,GAAL,CAASI,OAAT,CAAiB,EAAjB;;AACA,UAAIZ,MAAM,CAACa,YAAP,OAA0B,IAA9B,EAAoC;AAAEb,QAAAA,MAAM,CAACc,YAAP,CAAoB,IAApB;AAA2B,OAAjE,MACK;AAAEd,QAAAA,MAAM,CAACc,YAAP,CAAoBC,MAAM,CAACC,MAAP,CAAcC,IAAd,CAAmBC,SAAnB,CAA6BC,MAAjD;AAA2D,OAPzC,CAQvB;;;AACAC,MAAAA,UAAU,CAAC,YAAM;AAAEpB,QAAAA,MAAM,CAACc,YAAP,CAAoB,IAApB;AAA2B,OAApC,EAAsC,GAAtC,CAAV;AACD,KA7EkB;;AAAA,UAmFnBO,YAnFmB,GAmFJ,UAACC,KAAD,EAAW;AACxB,UAAIC,OAAO,GAAG,MAAKC,MAAL,CAAYtB,MAAZ,CAAmB,UAAAH,KAAK;AAAA,eAAIA,KAAK,CAACQ,IAAN,CAAWkB,WAAX,GAAyBC,QAAzB,CAAkCJ,KAAK,CAACG,WAAN,EAAlC,CAAJ;AAAA,OAAxB,CAAd;;AACM,YAAKxB,OAAL,CAAa0B,OAAb,CAAqB,UAAA3B,MAAM,EAAI;AAC/BA,QAAAA,MAAM,CAACO,IAAP,CAAYkB,WAAZ,GAA0BC,QAA1B,CAAmCJ,KAAK,CAACG,WAAN,EAAnC,MAA0D,IAA1D,GACAzB,MAAM,CAAC4B,UAAP,CAAkB,IAAlB,CADA,GAEA5B,MAAM,CAAC4B,UAAP,CAAkB,KAAlB,CAFA;AAGD,OAJC;;AAKD,YAAKC,QAAL,CAAc;AAAEC,QAAAA,cAAc,EAAGP,OAAnB;AAA4BD,QAAAA,KAAK,EAALA;AAA5B,OAAd;AACF,KA3Fc;;AAAA,UA6FfS,MA7Fe,GA6FN;AAEPC,MAAAA,IAAI,EAAE;AACJC,QAAAA,OAAO,EAAE;AADL,OAFC;AAKPC,MAAAA,MAAM,EAAE;AACNC,QAAAA,SAAS,EAAE;AADL;AALD,KA7FM;;AAAA,UAwGnBC,WAxGmB,GAwGL,YAAM;AAClB,YAAKP,QAAL,CAAc;AACZlB,QAAAA,IAAI,EAAE,CAAC,MAAK0B,KAAL,CAAW1B;AADN,OAAd;AAGD,KA5GkB;;AAEjB,UAAK0B,KAAL,GAAa;AACXf,MAAAA,KAAK,EAAE;AADI,KAAb;AAFiB;AAKlB;;;;wCAGmB;AAAA;;AAElB,UAAIgB,iBAAiB,GAAG7C,gBAAgB,EAAxC;AACA,UAAI8C,aAAa,GAAG7C,WAAW,EAA/B;AAEA8C,MAAAA,OAAO,CAACC,GAAR,CAAY,CACVH,iBADU,EAEVC,aAFU,CAAZ,EAICG,IAJD,CAIM,UAAAC,MAAM,EAAI;AACd,YAAI3B,MAAM,GAAG2B,MAAM,CAAC,CAAD,CAAnB;AACA,QAAA,MAAI,CAACnB,MAAL,GAAcmB,MAAM,CAAC,CAAD,CAAN,CAAUC,QAAV,CAAmBpB,MAAjC;AACA,QAAA,MAAI,CAACR,MAAL,GAAcA,MAAd;AACA,QAAA,MAAI,CAACf,OAAL,GAAe,EAAf,CAJc,CAKd;;AACA,QAAA,MAAI,CAACO,GAAL,GAAW,IAAIQ,MAAM,CAACC,IAAP,CAAY4B,GAAhB,CAAoBC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAApB,EAAoD;AAC5DC,UAAAA,MAAM,EAAE;AAACC,YAAAA,GAAG,EAAE,SAAN;AAAiBC,YAAAA,GAAG,EAAE,CAAC;AAAvB,WADoD;AAE5DC,UAAAA,IAAI,EAAE;AAFsD,SAApD,CAAX;AAIA,QAAA,MAAI,CAAC9C,UAAL,GAAkB,IAAIW,MAAM,CAACC,IAAP,CAAYmC,UAAhB,EAAlB;;AAEA,QAAA,MAAI,CAAC5B,MAAL,CAAYG,OAAZ,CAAoB,UAAA5B,KAAK,EAAI;AAC3B,cAAIC,MAAM,GAAG,IAAIgB,MAAM,CAACC,IAAP,CAAYoC,MAAhB,CAAuB;AACjCC,YAAAA,SAAS,EAAEvC,MAAM,CAACC,MAAP,CAAcC,IAAd,CAAmBC,SAAnB,CAA6BqC,IADP;AAEjC7C,YAAAA,QAAQ,EAAE;AAACuC,cAAAA,GAAG,EAAElD,KAAK,CAACyD,QAAN,CAAeP,GAArB;AAA2BC,cAAAA,GAAG,EAAEnD,KAAK,CAACyD,QAAN,CAAeN;AAA/C,aAFuB;AAGjC1C,YAAAA,GAAG,EAAE,MAAI,CAACA,GAHuB;AAIjCT,YAAAA,KAAK,EAAEA,KAJ0B;AAKjCK,YAAAA,EAAE,EAAEL,KAAK,CAACK,EALuB;AAMjCG,YAAAA,IAAI,EAAER,KAAK,CAACQ,IANqB;AAOjCkD,YAAAA,OAAO,EAAE1D,KAAK,CAAC0D;AAPkB,WAAvB,CAAb,CAD2B,CAU1B;;AACAzD,UAAAA,MAAM,CAAC0D,WAAP,CAAmB,OAAnB,EAA4B,YAAM;AAChC,gBAAI1D,MAAM,CAACa,YAAP,OAA0B,IAA9B,EAAoC;AAClCb,cAAAA,MAAM,CAACc,YAAP,CAAoB,IAApB;AACD,aAFD,MAEO;AACLd,cAAAA,MAAM,CAACc,YAAP,CAAoBE,MAAM,CAACC,IAAP,CAAYC,SAAZ,CAAsBC,MAA1C;AACD,aAL+B,CAMhC;;;AACAC,YAAAA,UAAU,CAAC,YAAM;AAAEpB,cAAAA,MAAM,CAACc,YAAP,CAAoB,IAApB;AAA2B,aAApC,EAAsC,GAAtC,CAAV;AACD,WARD,EAX0B,CAoB1B;;AACEE,UAAAA,MAAM,CAACC,IAAP,CAAY0C,KAAZ,CAAkBD,WAAlB,CAA8B1D,MAA9B,EAAsC,OAAtC,EAA+C,YAAM;AACnD,YAAA,MAAI,CAACK,UAAL,CAAgBC,UAAhB,CAA2BN,MAAM,CAACO,IAAlC;;AACA,YAAA,MAAI,CAACF,UAAL,CAAgBC,UAAhB,CAA2BN,MAAM,CAACyD,OAAlC;;AACA,YAAA,MAAI,CAACjD,GAAL,CAASC,SAAT,CAAmBT,MAAM,CAACU,QAA1B;;AACA,YAAA,MAAI,CAACL,UAAL,CAAgBM,IAAhB,CAAqB,MAAI,CAACH,GAA1B,EAA+BR,MAA/B;;AACA,YAAA,MAAI,CAACQ,GAAL,CAASI,OAAT,CAAiB,EAAjB;AACD,WAND;;AAQF,UAAA,MAAI,CAACX,OAAL,CAAa2D,IAAb,CAAkB5D,MAAlB;AACF,SA9BD;;AAgCA,QAAA,MAAI,CAAC6B,QAAL,CAAc;AAAEC,UAAAA,cAAc,EAAE,MAAI,CAACN;AAAvB,SAAd;AACD,OAjDD,EAiDGqC,KAjDH,CAiDS,YAAM;AACbC,QAAAA,KAAK,CAAC,kCAAD,CAAL;AACD,OAnDD;AAoDD;;;6BA6CQ;AACP,aAEE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AACE,QAAA,OAAO,EAAE,KAAK1B,WADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADA,EAQA;AAAK,QAAA,EAAE,EAAC,KAAR;AACE,QAAA,IAAI,EAAC,aADP;AAEE,sBAAW,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARA,EAaA,oBAAC,UAAD;AACI,QAAA,KAAK,EAAE,KAAKC,KAAL,CAAWf,KADtB;AAEI,QAAA,aAAa,EAAE,KAAKxB,aAFxB;AAGI,QAAA,YAAY,EAAE,KAAKuB,YAHvB;AAII,QAAA,cAAc,EAAE,KAAKgB,KAAL,CAAWP,cAJ/B;AAKI,QAAA,IAAI,EAAE,KAAKO,KAAL,CAAW1B,IALrB;AAMI,QAAA,WAAW,EAAE,KAAKyB,WANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbA,CAFF;AA2BD;;;;EA9Ie5C,S;;AAiJlB,eAAeI,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { load_google_maps } from './utils.js';\nimport { load_places } from './utils.js';\nimport Sidescreen from './Components/Sidescreen.js';\n\nclass App extends Component {\n\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      query: ''\n    }\n  }\n\n\n  componentDidMount() {\n\n    let googleMapsPromise = load_google_maps();\n    let placesPromise = load_places();\n\n    Promise.all([\n      googleMapsPromise,\n      placesPromise\n    ])\n    .then(values => {\n      let google = values[0];\n      this.venues = values[1].response.venues;\n      this.google = google;\n      this.markers = [];\n      //initial settings for the google map\n      this.map = new google.maps.Map(document.getElementById('map'), {\n         center: {lat: 40.440624, lng: -79.995888},\n         zoom: 10\n       });\n      this.infoWindow = new google.maps.InfoWindow();\n\n      this.venues.forEach(venue => {\n        let marker = new google.maps.Marker({\n           animation: window.google.maps.Animation.DROP,\n           position: {lat: venue.location.lat , lng: venue.location.lng},\n           map: this.map,\n           venue: venue,\n           id: venue.id,\n           name: venue.name,\n           contact: venue.contact\n         });\n         //animate markers when clicked\n         marker.addListener('click', () => {\n           if (marker.getAnimation() !== null) {\n             marker.setAnimation(null);\n           } else {\n             marker.setAnimation(google.maps.Animation.BOUNCE);\n           }\n           //stop animation after 500\n           setTimeout(() => { marker.setAnimation(null) }, 500);\n         });\n         //info window popup when marker is clicked\n           google.maps.event.addListener(marker, 'click', () => {\n             this.infoWindow.setContent(marker.name);\n             this.infoWindow.setContent(marker.contact)\n             this.map.setCenter(marker.position);\n             this.infoWindow.open(this.map, marker);\n             this.map.setZoom(15);\n           });\n\n         this.markers.push(marker);\n      });\n\n      this.setState({ filteredVenues: this.venues });\n    }).catch(() => {\n      alert('Cannot load Venues at this time.')\n    })\n  }\n\nlistItemClick = (venue) => {\n  let marker  = this.markers.filter(m => m.id === venue.id)[0];\n  this.infoWindow.setContent(marker.name);\n  this.map.setCenter(marker.position);\n  this.infoWindow.open(this.map, marker);\n  this.map.setZoom(12);\n  if (marker.getAnimation() !== null) { marker.setAnimation(null) }\n  else { marker.setAnimation(window.google.maps.Animation.BOUNCE); }\n    //stop animation after 500\n    setTimeout(() => { marker.setAnimation(null) }, 500);\n  }\n\n\n\n    //loop through markers and check if query matches input\n        //toLowerCase so user search case doesn't affect query\n  filterVenues = (query) => {\n    let vfilter = this.venues.filter(venue => venue.name.toLowerCase().includes(query.toLowerCase()));\n          this.markers.forEach(marker => {\n          marker.name.toLowerCase().includes(query.toLowerCase())===true?\n          marker.setVisible(true):\n          marker.setVisible(false);\n        })\n         this.setState({ filteredVenues : vfilter, query })\n      }\n\n      styles = {\n\n        hide: {\n          display: 'none'\n        },\n        header: {\n          marginTop: '0px'\n        }\n      };\n\n//should sidebar be open?\n  openSidebar = () => {\n    this.setState({\n      open: !this.state.open\n    });\n  }\n\n  render() {\n    return (\n\n      <div className=\"App\">\n      <div className=\"nav\">\n        <button className=\"burgerIcon\"\n          onClick={this.openSidebar}>\n        </button>\n        <br>\n        </br>\n      </div>\n      <div id=\"map\"\n        role=\"application\"\n        aria-label=\"map\">\n      </div>\n\n      <Sidescreen\n          query={this.state.query}\n          listItemClick={this.listItemClick}\n          filterVenues={this.filterVenues}\n          filteredVenues={this.state.filteredVenues}\n          open={this.state.open}\n          openSidebar={this.openSidebar}\n      />\n\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}